(window.webpackJsonp=window.webpackJsonp||[]).push([["user-feed-sub-route"],{"27Qo":function(e,t,o){e.exports={containerLayout:"PrOBO",container:"_12MS1 PrOBO"}},DuMX:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o("SDew"),a=o("vjdK"),s=o("Wdkd");const c=Object(n.f)(s.a.userPath,a.a)},OvWF:function(e,t,o){e.exports={scrollFooterElContainer:"_1Z4m1"}},R3Dg:function(e,t,o){"use strict";o.d(t,"a",(function(){return F}));var n=o("TSYQ"),a=o.n(n),s=o("SDew"),c=o("q1tI"),r=o.n(c),u=o("rd0y"),i=o("aOk/"),l=o("2Fwo"),d=o("OM6L"),b=o("4YUS"),p=o("IVTL"),h=o("eSEV"),m=o("dqiQ"),O=o.n(m);const f=Object(p.b)()({tags:[],headingCopy:"Related searches",showHeading:!1,hideOnMobile:!1,maximumResultsCount:u.b});var F=Object(l.a)(({showHeading:e,tags:t,hideOnMobile:o,headingCopy:n,maximumResultsCount:c})=>{const u=Object(b.b)(c)?Object(s.h)(t,d.F(c)):t;return d.q(u)?r.a.createElement("div",null):r.a.createElement("div",{className:a()(o&&O.a.hideOnMobile)},e&&r.a.createElement("p",{className:O.a.heading},n),r.a.createElement("div",{className:O.a.contentContainer},r.a.createElement(h.a,{tags:u,emplacement:i.a.Related})))},f)},VmW3:function(e,t,o){"use strict";o.r(t);var n=o("SDew"),a=o("q1tI"),s=o.n(a),c=o("TJpk"),r=o.n(c),u=o("/MKj"),i=o("Ty5D"),l=o("acyj"),d=o("rd0y"),b=o("pq3u"),p=o("2Fwo"),h=o("cHeK"),m=o("uFXZ"),O=o("JzW6"),f=o("jRy8"),F=o("mjVK"),j=o("wmOD"),S=o("RLZi"),R=o("x5qg"),g=o("JOe8"),E=o("Wdkd"),y=o("aOAo"),C=o("lS9m"),I=o("XoIJ"),w=o("R3Dg"),U=o("G/bK"),D=o("XCXh"),P=o("s6EG"),v=o("aMqU"),k=o("DuMX");const M={likes:(e,t)=>"".concat(t,"'s Likes (@").concat(e.username,") | Unsplash Photo Community"),collections:(e,t)=>"".concat(t,"'s Collections (@").concat(e.username,") | Unsplash Photo Community"),photos:(e,t)=>"".concat(t," (@").concat(e.username,") | Unsplash Photo Community")},q={likes(e,t){const o=e.total_likes;return o>1?"See ".concat(o," of the best free to download photos curated by ").concat(t," on Unsplash."):"See the best free to download photos curated by ".concat(t," on Unsplash.")},collections(e,t){const o=e.total_collections;return"See ".concat(o," of the best free to download images curated by ").concat(t," on Unsplash.")},photos(e,t){const o=e.total_photos;return 1===o?"See ".concat(o," of the best free to download photos, images, and wallpapers by ").concat(t," on Unsplash."):"See the best free to download photos, images, and wallpapers by ".concat(t," on Unsplash.")}};var x=o("dbtb"),L=o("27Qo"),_=o.n(L);const K=({options:e,routeData:t,shouldRequireInfiniteScrollOptIn:o,username:a})=>{const c=s.a.useMemo(()=>Object(n.f)(g.a.getFeedData,e.placementFactory,f.F),[e.placementFactory]);return s.a.createElement(U.a,{feedId:Object(x.d)(t),fetchPhotos:(r=e.userFeedSubRoute,Object(p.d)(Object(n.f)(Object(D.b)({userFeedSubRoute:r}),m.a(l.a),O.f(([e])=>e)),{username:a})),shouldRequireInfiniteScrollOptIn:o,makePlacement:c},U.b);var r};class N extends a.Component{constructor(){super(...arguments),this.handleCollectionsFetch=Object(p.d)(Object(n.f)(h.a.users.getCollections,m.a(l.a),O.f(([e])=>e)),{username:this.props.user.username})}componentDidMount(){const{userFeedSubRoute:e,user:t,history:o,primaryRoute:n}=this.props,{username:a}=t;e===E.b.UserFeedSubRoute.photos&&n!==E.b.UserFeedSubRoute.photos&&o.replace({pathname:E.a.userPath({username:a,userSubRoute:n})})}buildMetadata(){const{userFeedSubRoute:e,user:t,collectionFeedFirstPhotoOption:o,photoFeedFirstPhotoOption:n}=this.props;return(e=>{const{userFeedSubRoute:t,user:o,photoOption:n}=e,a=Object(v.a)(o),s=q[t](o,a),c=M[t](o,a),r=t===E.b.UserFeedSubRoute.likes||t===E.b.UserFeedSubRoute.collections;return Object(P.i)({userOption:f.l(o),photoOption:n,title:c,description:s,canonicalUrl:Object(k.a)({username:o.username,userSubRoute:t}),disableIndex:r||!1===o.meta.index})})({userFeedSubRoute:e,user:t,photoOption:Object(x.b)({userFeedSubRoute:e,collectionFeedFirstPhotoOption:o,photoFeedFirstPhotoOption:n})})}renderSubRouteFeed(e){const{user:t,isLoggedIn:o,routeData:n}=this.props,a=!1===o,c=t.tags.aggregated;return s.a.createElement(s.a.Fragment,null,s.a.createElement(C.a,null,s.a.createElement(K,{options:e,routeData:n,shouldRequireInfiniteScrollOptIn:a,username:t.username})),!1===o&&s.a.createElement("div",{className:_.a.container},s.a.createElement(w.a,{headingCopy:Object(x.a)(t.first_name),tags:c,maximumResultsCount:d.d,showHeading:!0})))}renderFeed(){const{userFeedSubRoute:e,routeData:t}=this.props;switch(e){case E.b.UserFeedSubRoute.collections:return s.a.createElement(C.a,null,s.a.createElement(y.a,{feedId:Object(x.d)(t),fetchCollections:this.handleCollectionsFetch}));case E.b.UserFeedSubRoute.photos:return this.renderSubRouteFeed({placementFactory:g.a.Union.UserProfile,userFeedSubRoute:e});case E.b.UserFeedSubRoute.likes:return this.renderSubRouteFeed({placementFactory:g.a.Union.UserLikes,userFeedSubRoute:e})}}render(){const{userFeedSubRoute:e}=this.props;return s.a.createElement("div",Object.assign({},Object(F.a)(Object(x.c)(e))),s.a.createElement(r.a,Object.assign({},this.buildMetadata())),this.renderFeed())}}const A=Object(b.d)()(()=>{const e=Object(S.a)(),t=Object(R.c)(),o=Object(I.c)();return(n,a)=>{const s=Object(x.d)(a.routeData);return{photoFeedFirstPhotoOption:t(n,s),collectionFeedFirstPhotoOption:e(n,s),isLoggedIn:Object(j.j)(n),primaryRoute:o(n,a.user.id)}}}),J=Object(n.h)(N,Object(u.c)(A),i.h);t.default=J},aOAo:function(e,t,o){"use strict";o.d(t,"a",(function(){return D}));var n=o("SDew"),a=o("6l12"),s=o("q1tI"),c=o.n(s),r=o("/MKj"),u=o("b2r9"),i=o("TVaX"),l=o("OcE/"),d=o("pq3u"),b=o("LAdA"),p=o("OM6L"),h=o("JzW6"),m=o("D6yk"),O=o("RLZi"),f=o("ZGnK"),F=o("Z14c"),j=o("ALSr"),S=o("6SPB"),R=o("OvWF"),g=o.n(R);const E=e=>c.a.createElement(f.a,{collections:e}),y=Object(a.a)(()=>c.a.createElement(f.a,{collections:p.z(0,8).map(e=>{})})),C=Object(a.a)(()=>c.a.createElement("div",{className:g.a.scrollFooterElContainer},c.a.createElement(S.a,null))),I=Object(a.a)(()=>c.a.createElement(F.a,{type:"collections"})),w=({fetchCollections:e,feedId:t})=>Object(n.f)(e,h.f(Object(n.f)(b.l,l.a,({entities:e,result:o})=>[Object(u.C)(e),u.a.HandleNextCollectionFeedPageResponse({feedId:t,collectionIds:o})]))),U=Object(d.d)()(()=>{const e=Object(O.b)(),t=Object(O.c)();return(o,n)=>({collectionFeedOption:e(o,n.feedId),collectionsOption:t(o,n.feedId)})});var D=Object(n.h)(({feedId:e,fetchCollections:t,collectionsOption:o,collectionFeedOption:n})=>c.a.createElement(j.a,{notifier$:m.c,key:e,feedItemsOption:o,feedStateOption:n,fetchDataAndBuildActions:w({feedId:e,fetchCollections:t}),renderItems:E,getNoContentEl:I,getScrollFooterEl:C,getPlaceholderEl:y,shouldDisableInfiniteScroll:!1,intersectionObserverRoot:i.a}),Object(r.c)(U))},dqiQ:function(e,t,o){e.exports={gutter:"12px",contentContainer:"_3dpes",heading:"_2azK- _3dpes",hideOnMobile:"_1Co2N"}},rd0y:function(e,t,o){"use strict";o.d(t,"c",(function(){return n})),o.d(t,"b",(function(){return a})),o.d(t,"d",(function(){return s})),o.d(t,"a",(function(){return c}));const n=4,a=20,s=30,c=30}}]);
//# sourceMappingURL=user-feed-sub-route.b0832.js.map